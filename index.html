<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Tiny Eater</title>
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#7BB3E0">
  <link rel="apple-touch-icon" href="icon-192.png">
  <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            'tiny-blue': '#7BB3E0',
            'tiny-yellow': '#F5E6A3',
            'tiny-green': '#90EE90',
            'tiny-red': '#FFB6C1',
            'tiny-gray': '#D3D3D3'
          }
        }
      }
    }
  </script>
  <style>
    body { margin: 0; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif; }
    .app-container { height: 100vh; overflow: hidden; display: flex; flex-direction: column; }
    .content-area { flex: 1; overflow-y: auto; padding-bottom: 1rem; }
    .fixed-header { position: sticky; top: 0; z-index: 50; }
    .fixed-footer { position: sticky; bottom: 0; z-index: 50; }
  </style>
</head>
<body>
  <div id="root"></div>

  <script type="text/babel">
    const { useState, useEffect } = React;

    // Simple SVG Icons
    const icons = {
      plus: () => React.createElement('svg', { className: 'w-5 h-5', fill: 'none', stroke: 'currentColor', viewBox: '0 0 24 24' },
        React.createElement('path', { strokeLinecap: 'round', strokeLinejoin: 'round', strokeWidth: 2, d: 'M12 6v6m0 0v6m0-6h6m-6 0H6' })
      ),
      edit: (props) => React.createElement('svg', { className: props.className, fill: 'none', stroke: 'currentColor', viewBox: '0 0 24 24' },
        React.createElement('path', { strokeLinecap: 'round', strokeLinejoin: 'round', strokeWidth: 2, d: 'M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z' })
      ),
      trash: (props) => React.createElement('svg', { className: props.className, fill: 'none', stroke: 'currentColor', viewBox: '0 0 24 24' },
        React.createElement('path', { strokeLinecap: 'round', strokeLinejoin: 'round', strokeWidth: 2, d: 'M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16' })
      ),
      camera: (props) => React.createElement('svg', { className: props.className, fill: 'none', stroke: 'currentColor', viewBox: '0 0 24 24' },
        React.createElement('path', { strokeLinecap: 'round', strokeLinejoin: 'round', strokeWidth: 2, d: 'M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z' }),
        React.createElement('path', { strokeLinecap: 'round', strokeLinejoin: 'round', strokeWidth: 2, d: 'M15 13a3 3 0 11-6 0 3 3 0 016 0z' })
      ),
      user: (props) => React.createElement('svg', { className: props.className, fill: 'none', stroke: 'currentColor', viewBox: '0 0 24 24' },
        React.createElement('path', { strokeLinecap: 'round', strokeLinejoin: 'round', strokeWidth: 2, d: 'M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z' })
      ),
      download: (props) => React.createElement('svg', { className: props.className, fill: 'none', stroke: 'currentColor', viewBox: '0 0 24 24' },
        React.createElement('path', { strokeLinecap: 'round', strokeLinejoin: 'round', strokeWidth: 2, d: 'M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4' })
      ),
      upload: (props) => React.createElement('svg', { className: props.className, fill: 'none', stroke: 'currentColor', viewBox: '0 0 24 24' },
        React.createElement('path', { strokeLinecap: 'round', strokeLinejoin: 'round', strokeWidth: 2, d: 'M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12' })
      ),
      check: (props) => React.createElement('svg', { className: props.className, fill: 'none', stroke: 'currentColor', viewBox: '0 0 24 24' },
        React.createElement('path', { strokeLinecap: 'round', strokeLinejoin: 'round', strokeWidth: 2, d: 'M5 13l4 4L19 7' })
      ),
      square: (props) => React.createElement('svg', { className: props.className, fill: 'none', stroke: 'currentColor', viewBox: '0 0 24 24' },
        React.createElement('rect', { x: 3, y: 3, width: 18, height: 18, rx: 2, ry: 2 })
      )
    };

    function TinyEater() {
      const [currentTab, setCurrentTab] = useState('critic');
      const [viewMode, setViewMode] = useState('tiles');
      const [sortBy, setSortBy] = useState('date');
      const [foods, setFoods] = useState([]);
      const [profile, setProfile] = useState({ name: '', birthday: '' });
      const [checklist, setChecklist] = useState({});
      const [showForm, setShowForm] = useState(false);
      const [editingFood, setEditingFood] = useState(null);
      const [newFood, setNewFood] = useState({
        name: '',
        date: '',
        reaction: '',
        notes: '',
        media: null,
        mediaPreview: null
      });

      const foodsChecklist = {
        "Fruits": [
          "Apple", "Avocado", "Banana", "Blueberries", "Cantaloupe", "Cherries", "Cranberries", 
          "Grapes", "Kiwi", "Mango", "Orange", "Papaya", "Peach", "Pear", "Pineapple", 
          "Plum", "Raspberries", "Strawberries", "Watermelon", "Apricot", "Blackberries", 
          "Coconut", "Dates", "Fig", "Grapefruit"
        ],
        "Vegetables": [
          "Artichoke", "Asparagus", "Beets", "Bell Pepper", "Broccoli", "Brussels Sprouts", 
          "Cabbage", "Carrots", "Cauliflower", "Celery", "Corn", "Cucumber", "Eggplant", 
          "Green Beans", "Kale", "Leeks", "Lettuce", "Mushrooms", "Onions", "Parsnips", 
          "Peas", "Potatoes", "Pumpkin", "Radish", "Spinach", "Sweet Potato", "Tomatoes", 
          "Turnips", "Zucchini", "Chard"
        ],
        "Grains & Cereals": [
          "Barley", "Brown Rice", "Buckwheat", "Millet", "Oats", "Pasta", "Quinoa", 
          "Rice", "Wheat", "Amaranth", "Bulgur", "Corn", "Farro", "Rye", "Wild Rice"
        ],
        "Proteins": [
          "Beef", "Chicken", "Turkey", "Salmon", "Tuna", "Cod", "Shrimp", "Eggs", 
          "Tofu", "Beans", "Lentils", "Chickpeas", "Nuts", "Seeds", "Yogurt"
        ],
        "Dairy": [
          "Cheese", "Cottage Cheese", "Cream Cheese", "Milk", "Yogurt", "Butter", 
          "Kefir", "Ricotta"
        ],
        "Herbs & Spices": [
          "Basil", "Cinnamon", "Garlic", "Ginger", "Oregano"
        ]
      };

      const reactions = [
        { value: 'loved', label: 'Loved It', emoji: '😍', color: 'bg-tiny-green' },
        { value: 'indifferent', label: 'Indifferent', emoji: '😐', color: 'bg-tiny-gray' },
        { value: 'hated', label: 'Hated It', emoji: '😠', color: 'bg-tiny-red' }
      ];

      // Load data from localStorage
      useEffect(() => {
        const savedFoods = localStorage.getItem('tinyEaterFoods');
        const savedProfile = localStorage.getItem('tinyEaterProfile');
        const savedChecklist = localStorage.getItem('tinyEaterChecklist');
        
        if (savedFoods) setFoods(JSON.parse(savedFoods));
        if (savedProfile) setProfile(JSON.parse(savedProfile));
        if (savedChecklist) setChecklist(JSON.parse(savedChecklist));
      }, []);

      // Save data to localStorage
      useEffect(() => {
        localStorage.setItem('tinyEaterFoods', JSON.stringify(foods));
      }, [foods]);

      useEffect(() => {
        localStorage.setItem('tinyEaterProfile', JSON.stringify(profile));
      }, [profile]);

      useEffect(() => {
        localStorage.setItem('tinyEaterChecklist', JSON.stringify(checklist));
      }, [checklist]);

      const getPersonalizedText = (text) => {
        const babyName = profile.name || 'baby';
        return text.replace(/baby|little one|your child/gi, babyName);
      };

      const handleFileUpload = (e) => {
        const file = e.target.files[0];
        if (file) {
          const reader = new FileReader();
          reader.onload = (e) => {
            setNewFood({
              ...newFood,
              media: file,
              mediaPreview: e.target.result
            });
          };
          reader.readAsDataURL(file);
        }
      };

      const resetForm = () => {
        setNewFood({
          name: '',
          date: '',
          reaction: '',
          notes: '',
          media: null,
          mediaPreview: null
        });
        setEditingFood(null);
        setShowForm(false);
      };

      const addOrUpdateFood = () => {
        if (newFood.name && newFood.date && newFood.reaction) {
          if (editingFood) {
            setFoods(foods.map(food => 
              food.id === editingFood.id 
                ? { ...newFood, id: editingFood.id, dateAdded: editingFood.dateAdded }
                : food
            ));
          } else {
            const foodEntry = {
              id: Date.now(),
              ...newFood,
              dateAdded: new Date().toISOString()
            };
            setFoods([foodEntry, ...foods]);
          }
          resetForm();
        }
      };

      const editFood = (food) => {
        setNewFood({
          name: food.name,
          date: food.date,
          reaction: food.reaction,
          notes: food.notes || '',
          media: food.media,
          mediaPreview: food.mediaPreview
        });
        setEditingFood(food);
        setShowForm(true);
      };

      const deleteFood = (id) => {
        setFoods(foods.filter(food => food.id !== id));
      };

      const toggleChecklistItem = (category, item) => {
        const key = `${category}-${item}`;
        setChecklist(prev => ({
          ...prev,
          [key]: !prev[key]
        }));
      };

      const addFoodFromChecklist = (foodName) => {
        setNewFood({
          name: foodName,
          date: new Date().toISOString().split('T')[0],
          reaction: '',
          notes: '',
          media: null,
          mediaPreview: null
        });
        setCurrentTab('critic');
        setShowForm(true);
      };

      const getSortedFoods = () => {
        const sorted = [...foods].sort((a, b) => {
          if (sortBy === 'name') {
            return a.name.localeCompare(b.name);
          } else {
            return new Date(b.date) - new Date(a.date);
          }
        });
        return sorted;
      };

      const getReactionDisplay = (reactionValue) => {
        const reaction = reactions.find(r => r.value === reactionValue);
        if (!reaction) return null;
        
        return React.createElement('div', {
          className: `inline-flex items-center gap-2 px-3 py-1 rounded-full ${reaction.color} text-gray-800 text-sm font-medium`
        }, [
          React.createElement('span', { key: 'emoji' }, reaction.emoji),
          reaction.label
        ]);
      };

      const exportData = () => {
        const data = {
          foods,
          profile,
          checklist,
          exportDate: new Date().toISOString()
        };
        
        const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
        const url = URL.createObjectURL(blob);
        const a = document.createElement('a');
        a.href = url;
        a.download = `tiny-eater-backup-${new Date().toISOString().split('T')[0]}.json`;
        a.click();
        URL.revokeObjectURL(url);
      };

      const importData = (e) => {
        const file = e.target.files[0];
        if (file) {
          const reader = new FileReader();
          reader.onload = (e) => {
            try {
              const data = JSON.parse(e.target.result);
              if (data.foods) setFoods(data.foods);
              if (data.profile) setProfile(data.profile);
              if (data.checklist) setChecklist(data.checklist);
              alert('Data imported successfully!');
            } catch (error) {
              alert('Error importing data. Please check the file format.');
            }
          };
          reader.readAsText(file);
        }
      };

      return React.createElement('div', { className: 'app-container bg-gray-50' }, [
        // Header
        React.createElement('div', {
          key: 'header',
          className: 'fixed-header bg-tiny-blue text-white text-center py-4 font-bold text-xl'
        }, 'TINY EATER'),

        // Content
        React.createElement('div', { key: 'content', className: 'content-area' }, [
          // Food Critic Tab
          currentTab === 'critic' && React.createElement('div', { key: 'critic', className: 'p-4' }, [
            // Controls
            React.createElement('div', {
              key: 'controls',
              className: 'flex justify-between items-center mb-6'
            }, [
              React.createElement('div', {
                key: 'toggle',
                className: 'bg-white rounded-full border-2 border-gray-200 flex overflow-hidden'
              }, [
                React.createElement('button', {
                  key: 'tiles',
                  onClick: () => setViewMode('tiles'),
                  className: `px-4 py-2 text-sm font-medium transition-colors ${
                    viewMode === 'tiles' ? 'bg-tiny-yellow text-gray-800' : 'text-gray-600 hover:bg-gray-50'
                  }`
                }, '✓ Tiles'),
                React.createElement('button', {
                  key: 'list',
                  onClick: () => setViewMode('list'),
                  className: `px-4 py-2 text-sm font-medium transition-colors ${
                    viewMode === 'list' ? 'bg-tiny-yellow text-gray-800' : 'text-gray-600 hover:bg-gray-50'
                  }`
                }, 'List')
              ]),
              React.createElement('button', {
                key: 'add-btn',
                onClick: () => setShowForm(true),
                className: 'bg-pink-500 text-white px-4 py-2 rounded-full font-medium text-sm hover:bg-pink-600 transition-colors'
              }, '+ ADD A FOOD')
            ]),

            // Sort Controls for List View
            viewMode === 'list' && React.createElement('div', {
              key: 'sort',
              className: 'flex gap-2 mb-4'
            }, [
              React.createElement('button', {
                key: 'sort-date',
                onClick: () => setSortBy('date'),
                className: `px-3 py-1 text-sm rounded-full transition-colors ${
                  sortBy === 'date' ? 'bg-tiny-yellow text-gray-800' : 'bg-gray-200 text-gray-600'
                }`
              }, 'Sort by Date'),
              React.createElement('button', {
                key: 'sort-name',
                onClick: () => setSortBy('name'),
                className: `px-3 py-1 text-sm rounded-full transition-colors ${
                  sortBy === 'name' ? 'bg-tiny-yellow text-gray-800' : 'bg-gray-200 text-gray-600'
                }`
              }, 'Sort by Name')
            ]),

            // Export/Import
            React.createElement('div', {
              key: 'data-controls',
              className: 'flex gap-2 mb-6'
            }, [
              React.createElement('button', {
                key: 'export',
                onClick: exportData,
                className: 'flex items-center gap-2 px-3 py-2 bg-blue-100 text-blue-600 rounded-lg text-sm hover:bg-blue-200 transition-colors'
              }, [
                icons.download({ key: 'icon', className: 'w-4 h-4' }),
                'Export Data'
              ]),
              React.createElement('label', {
                key: 'import',
                className: 'flex items-center gap-2 px-3 py-2 bg-green-100 text-green-600 rounded-lg text-sm hover:bg-green-200 transition-colors cursor-pointer'
              }, [
                icons.upload({ key: 'icon', className: 'w-4 h-4' }),
                'Import Data',
                React.createElement('input', {
                  key: 'file-input',
                  type: 'file',
                  accept: '.json',
                  onChange: importData,
                  className: 'hidden'
                })
              ])
            ]),

            // Food Entries
            foods.length === 0 ? React.createElement('div', {
              key: 'empty',
              className: 'text-center py-12 text-gray-500'
            }, [
              React.createElement('div', { key: 'title', className: 'text-lg font-medium mb-2' }, 'No foods tracked yet.'),
              React.createElement('div', { key: 'subtitle' }, getPersonalizedText("Add baby's first food to get started."))
            ]) : React.createElement('div', {
              key: 'food-list',
              className: viewMode === 'tiles' ? 'space-y-4' : 'space-y-3'
            }, getSortedFoods().map(food => {
              const reaction = reactions.find(r => r.value === food.reaction);
              
              if (viewMode === 'list') {
                return React.createElement('div', {
                  key: food.id,
                  className: 'bg-white rounded-lg p-4 shadow-sm border border-gray-100 flex items-center justify-between'
                }, [
                  React.createElement('div', {
                    key: 'info',
                    className: 'flex items-center gap-3'
                  }, [
                    React.createElement('div', {
                      key: 'dot',
                      className: `w-4 h-4 rounded-full ${reaction?.color || 'bg-gray-300'}`
                    }),
                    React.createElement('div', { key: 'content' }, [
                      React.createElement('div', {
                        key: 'name',
                        className: 'font-medium text-gray-800'
                      }, food.name),
                      React.createElement('div', {
                        key: 'date',
                        className: 'text-sm text-gray-500'
                      }, new Date(food.date).toLocaleDateString())
                    ])
                  ]),
                  React.createElement('div', {
                    key: 'actions',
                    className: 'flex gap-2'
                  }, [
                    React.createElement('button', {
                      key: 'edit',
                      onClick: () => editFood(food),
                      className: 'p-2 rounded-full hover:bg-gray-100 transition-all'
                    }, icons.edit({ className: 'w-4 h-4 text-gray-600' })),
                    React.createElement('button', {
                      key: 'delete',
                      onClick: () => deleteFood(food.id),
                      className: 'p-2 rounded-full hover:bg-gray-100 transition-all'
                    }, icons.trash({ className: 'w-4 h-4 text-red-500' }))
                  ])
                ]);
              }

              // Tiles View
              return React.createElement('div', {
                key: food.id,
                className: 'bg-white rounded-2xl p-4 shadow-sm border border-gray-100'
              }, [
                // Photo section (only if media exists)
                food.mediaPreview && React.createElement('div', {
                  key: 'media',
                  className: 'mb-4 relative bg-gray-100 rounded-xl overflow-hidden'
                }, [
                  food.media && food.media.type.startsWith('image/') ?
                    React.createElement('img', {
                      key: 'image',
                      src: food.mediaPreview,
                      alt: food.name,
                      className: 'w-full h-48 object-cover'
                    }) :
                    React.createElement('video', {
                      key: 'video',
                      src: food.mediaPreview,
                      className: 'w-full h-48 object-cover',
                      controls: true
                    }),
                  React.createElement('div', {
                    key: 'actions',
                    className: 'absolute top-2 right-2 flex gap-2'
                  }, [
                    React.createElement('button', {
                      key: 'edit',
                      onClick: () => editFood(food),
                      className: 'bg-white bg-opacity-80 p-2 rounded-full hover:bg-opacity-100 transition-all'
                    }, icons.edit({ className: 'w-4 h-4 text-gray-600' })),
                    React.createElement('button', {
                      key: 'delete',
                      onClick: () => deleteFood(food.id),
                      className: 'bg-white bg-opacity-80 p-2 rounded-full hover:bg-opacity-100 transition-all'
                    }, icons.trash({ className: 'w-4 h-4 text-red-500' }))
                  ])
                ]),
                
                // Content
                React.createElement('div', {
                  key: 'content',
                  className: food.mediaPreview ? '' : 'relative'
                }, [
                  // Actions for cards without photos
                  !food.mediaPreview && React.createElement('div', {
                    key: 'actions-no-photo',
                    className: 'absolute top-0 right-0 flex gap-2'
                  }, [
                    React.createElement('button', {
                      key: 'edit',
                      onClick: () => editFood(food),
                      className: 'p-2 rounded-full hover:bg-gray-100 transition-all'
                    }, icons.edit({ className: 'w-4 h-4 text-gray-600' })),
                    React.createElement('button', {
                      key: 'delete',
                      onClick: () => deleteFood(food.id),
                      className: 'p-2 rounded-full hover:bg-gray-100 transition-all'
                    }, icons.trash({ className: 'w-4 h-4 text-red-500' }))
                  ]),
                  
                  React.createElement('h3', {
                    key: 'name',
                    className: 'font-bold text-gray-800 mb-2'
                  }, food.name),
                  React.createElement('div', {
                    key: 'date',
                    className: 'text-sm text-gray-600 mb-3'
                  }, `First tried: ${new Date(food.date).toLocaleDateString()}`),
                  getReactionDisplay(food.reaction),
                  food.notes && React.createElement('div', {
                    key: 'notes',
                    className: 'mt-3 text-sm text-gray-600 bg-gray-50 p-3 rounded-lg'
                  }, food.notes)
                ])
              ]);
            }))
          ]),

          // Future Foodie Tab
          currentTab === 'foodie' && React.createElement('div', { key: 'foodie', className: 'p-4' }, [
            React.createElement('div', {
              key: 'header',
              className: 'text-center mb-6'
            }, [
              React.createElement('h2', {
                key: 'title',
                className: 'text-xl font-bold text-gray-800 mb-2'
              }, 'First 100 Foods'),
              React.createElement('p', {
                key: 'subtitle',
                className: 'text-gray-600'
              }, getPersonalizedText('to try before baby is one.'))
            ]),

            React.createElement('div', {
              key: 'categories',
              className: 'space-y-6'
            }, Object.entries(foodsChecklist).map(([category, items]) => 
              React.createElement('div', {
                key: category,
                className: 'bg-white rounded-2xl overflow-hidden shadow-sm border border-gray-100'
              }, [
                React.createElement('div', {
                  key: 'category-header',
                  className: 'bg-tiny-green text-gray-800 px-4 py-3 font-bold'
                }, category),
                React.createElement('div', {
                  key: 'items',
                  className: 'p-4 space-y-3'
                }, items.map(item => {
                  const isChecked = checklist[`${category}-${item}`];
                  return React.createElement('div', {
                    key: item,
                    className: 'flex items-center justify-between group'
                  }, [
                    React.createElement('button', {
                      key: 'checkbox',
                      onClick: () => toggleChecklistItem(category, item),
                      className: 'flex items-center gap-3 flex-1 text-left'
                    }, [
                      isChecked ? 
                        icons.check({ key: 'checked', className: 'w-5 h-5 text-tiny-blue' }) :
                        icons.square({ key: 'unchecked', className: 'w-5 h-5 text-gray-400' }),
                      React.createElement('span', {
                        key: 'name',
                        className: isChecked ? 'line-through text-gray-500' : 'text-gray-700'
                      }, item)
                    ]),
                    React.createElement('button', {
                      key: 'add',
                      onClick: () => addFoodFromChecklist(item),
                      className: 'opacity-0 group-hover:opacity-100 bg-tiny-yellow text-gray-800 px-3 py-1 rounded-full text-sm font-medium transition-opacity'
                    }, 'Add')
                  ]);
                }))
              ])
            ))
          ]),

          // Profile Tab
          currentTab === 'profile' && React.createElement('div', { key: 'profile', className: 'p-4' }, [
            React.createElement('div', {
              key: 'form',
              className: 'bg-white rounded-2xl p-6 shadow-sm border border-gray-100'
            }, [
              React.createElement('div', {
                key: 'name-field',
                className: 'mb-6'
              }, [
                React.createElement('label', {
                  key: 'name-label',
                  className: 'block text-sm font-medium text-gray-700 mb-2'
                }, 'Name'),
                React.createElement('input', {
                  key: 'name-input',
                  type: 'text',
                  value: profile.name,
                  onChange: (e) => setProfile({...profile, name: e.target.value}),
                  placeholder: 'Nicknames welcome',
                  className: 'w-full px-4 py-3 bg-tiny-yellow rounded-xl border-2 border-transparent focus:border-gray-300 focus:outline-none transition-colors placeholder-gray-500'
                })
              ]),
              React.createElement('div', {
                key: 'birthday-field',
                className: 'mb-6'
              }, [
                React.createElement('label', {
                  key: 'birthday-label',
                  className: 'block text-sm font-medium text-gray-700 mb-2'
                }, 'Birthday'),
                React.createElement('input', {
                  key: 'birthday-input',
                  type: 'date',
                  value: profile.birthday,
                  onChange: (e) => setProfile({...profile, birthday: e.target.value}),
                  className: 'w-full px-4 py-3 bg-tiny-yellow rounded-xl border-2 border-transparent focus:border-gray-300 focus:outline-none transition-colors'
                })
              ]),
              React.createElement('button', {
                key: 'save-button',
                className: 'w-full bg-pink-500 text-white py-3 rounded-xl font-medium hover:bg-pink-600 transition-colors'
              }, 'Save')
            ])
          ])
        ]),

        // Footer
        React.createElement('div', {
          key: 'footer',
          className: 'fixed-footer bg-tiny-blue text-white grid grid-cols-3'
        }, [
          React.createElement('button', {
            key: 'critic',
            onClick: () => setCurrentTab('critic'),
            className: `py-3 px-4 text-center transition-colors ${
              currentTab === 'critic' ? 'bg-tiny-yellow text-gray-800' : 'hover:bg-blue-400'
            }`
          }, [
            React.createElement('div', { key: 'icon', className: 'text-sm' }, '⭐'),
            React.createElement('div', { key: 'label', className: 'text-xs mt-1' }, 'Food Critic')
          ]),
          React.createElement('button', {
            key: 'foodie',
            onClick: () => setCurrentTab('foodie'),
            className: `py-3 px-4 text-center transition-colors ${
              currentTab === 'foodie' ? 'bg-tiny-yellow text-gray-800' : 'hover:bg-blue-400'
            }`
          }, [
            React.createElement('div', { key: 'icon', className: 'text-sm' }, '⭐'),
            React.createElement('div', { key: 'label', className: 'text-xs mt-1' }, 'Future Foodie')
          ]),
          React.createElement('button', {
            key: 'profile',
            onClick: () => setCurrentTab('profile'),
            className: `py-3 px-4 text-center transition-colors ${
              currentTab === 'profile' ? 'bg-tiny-yellow text-gray-800' : 'hover:bg-blue-400'
            }`
          }, [
            icons.user({ key: 'icon', className: 'w-4 h-4 mx-auto' }),
            React.createElement('div', { key: 'label', className: 'text-xs mt-1' }, 'Profile')
          ])
        ]),

        // Food Form Modal
        showForm && React.createElement('div', {
          key: 'modal',
          className: 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50'
        }, [
          React.createElement('div', {
            key: 'modal-content',
            className: 'bg-white rounded-3xl p-6 w-full max-w-md max-h-[90vh] overflow-y-auto'
          }, [
            React.createElement('h2', {
              key: 'title',
              className: 'text-xl font-bold text-gray-800 mb-6 text-center'
            }, editingFood ? 'Edit food adventure!' : 'New food adventure!'),

            React.createElement('div', {
              key: 'name-field',
              className: 'mb-4'
            }, [
              React.createElement('label', {
                key: 'label',
                className: 'block text-sm font-medium text-gray-700 mb-2'
              }, 'Food name'),
              React.createElement('input', {
                key: 'input',
                type: 'text',
                value: newFood.name,
                onChange: (e) => setNewFood({...newFood, name: e.target.value}),
                placeholder: 'e.g. Banana',
                className: 'w-full px-4 py-3 bg-tiny-yellow rounded-xl border-2 border-transparent focus:border-gray-300 focus:outline-none transition-colors placeholder-gray-500'
              })
            ]),

            React.createElement('div', {
              key: 'date-field',
              className: 'mb-4'
            }, [
              React.createElement('label', {
                key: 'label',
                className: 'block text-sm font-medium text-gray-700 mb-2'
              }, 'Date First Tried'),
              React.createElement('input', {
                key: 'input',
                type: 'date',
                value: newFood.date,
                onChange: (e) => setNewFood({...newFood, date: e.target.value}),
                className: 'w-full px-4 py-3 bg-tiny-yellow rounded-xl border-2 border-transparent focus:border-gray-300 focus:outline-none transition-colors'
              })
            ]),

            React.createElement('div', {
              key: 'reaction-field',
              className: 'mb-4'
            }, [
              React.createElement('label', {
                key: 'label',
                className: 'block text-sm font-medium text-gray-700 mb-3'
              }, "Baby's Reaction"),
              React.createElement('div', {
                key: 'reactions',
                className: 'flex gap-3'
              }, reactions.map(reaction => 
                React.createElement('button', {
                  key: reaction.value,
                  onClick: () => setNewFood({...newFood, reaction: reaction.value}),
                  className: `flex-1 p-3 rounded-xl border-2 transition-all text-center ${
                    newFood.reaction === reaction.value 
                      ? `${reaction.color} border-gray-400` 
                      : 'border-gray-200 hover:border-gray-300'
                  }`
                }, [
                  React.createElement('div', {
                    key: 'emoji',
                    className: 'text-2xl mb-1'
                  }, reaction.emoji),
                  React.createElement('div', {
                    key: 'label',
                    className: 'text-xs font-medium text-gray-700'
                  }, reaction.label)
                ])
              ))
            ]),

            React.createElement('div', {
              key: 'notes-field',
              className: 'mb-4'
            }, [
              React.createElement('label', {
                key: 'label',
                className: 'block text-sm font-medium text-gray-700 mb-2'
              }, 'Notes (Optional)'),
              React.createElement('textarea', {
                key: 'input',
                value: newFood.notes,
                onChange: (e) => setNewFood({...newFood, notes: e.target.value}),
                placeholder: 'Any special observations or notes...',
                rows: 3,
                className: 'w-full px-4 py-3 bg-tiny-yellow rounded-xl border-2 border-transparent focus:border-gray-300 focus:outline-none transition-colors resize-none placeholder-gray-500'
              })
            ]),

            React.createElement('div', {
              key: 'photo-field',
              className: 'mb-6'
            }, [
              React.createElement('label', {
                key: 'label',
                className: 'block text-sm font-medium text-gray-700 mb-2'
              }, 'Photo (Optional)'),
              React.createElement('label', {
                key: 'file-label',
                className: 'flex items-center gap-2 px-4 py-2 bg-tiny-yellow text-gray-700 rounded-xl cursor-pointer hover:bg-yellow-200 transition-colors w-fit'
              }, [
                icons.camera({ key: 'icon', className: 'w-4 h-4' }),
                'Choose File',
                React.createElement('input', {
                  key: 'file-input',
                  type: 'file',
                  accept: 'image/*,video/*',
                  onChange: handleFileUpload,
                  className: 'hidden'
                })
              ]),
              newFood.mediaPreview && React.createElement('div', {
                key: 'preview',
                className: 'mt-3'
              }, [
                newFood.media && newFood.media.type.startsWith('image/') ?
                  React.createElement('img', {
                    key: 'preview-img',
                    src: newFood.mediaPreview,
                    alt: 'Preview',
                    className: 'w-32 h-32 object-cover rounded-xl'
                  }) :
                  React.createElement('video', {
                    key: 'preview-video',
                    src: newFood.mediaPreview,
                    className: 'w-32 h-32 object-cover rounded-xl',
                    controls: true
                  })
              ])
            ]),

            React.createElement('div', {
              key: 'buttons',
              className: 'flex gap-3'
            }, [
              React.createElement('button', {
                key: 'save',
                onClick: addOrUpdateFood,
                className: 'flex-1 bg-pink-500 text-white py-3 rounded-xl font-medium hover:bg-pink-600 transition-colors'
              }, editingFood ? 'Update Food' : 'Save Food'),
              React.createElement('button', {
                key: 'cancel',
                onClick: resetForm,
                className: 'px-6 py-3 bg-gray-300 text-gray-700 rounded-xl font-medium hover:bg-gray-400 transition-colors'
              }, 'Cancel')
            ])
          ])
        ])
      ]);
    }

    ReactDOM.render(React.createElement(TinyEater), document.getElementById('root'));

    // Register service worker
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('sw.js')
          .then((registration) => {
            console.log('SW registered: ', registration);
          })
          .catch((registrationError) => {
            console.log('SW registration failed: ', registrationError);
          });
      });
    }
  </script>
</body>
</html>